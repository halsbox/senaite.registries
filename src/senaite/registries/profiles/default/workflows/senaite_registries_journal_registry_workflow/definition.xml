<?xml version="1.0"?>
<dc-workflow
    workflow_id="senaite_registries_journal_registry_workflow"
    title="Workflow for Journal Registry"
    description="Single-state workflow for Journal Registry"
    state_variable="review_state"
    initial_state="active"
    manager_bypass="False"
    i18n:domain="senaite.registries"
    xmlns:i18n="http://xml.zope.org/namespaces/i18n">

  <!-- Managed permissions -->
  <permission>Add portal content</permission>
  <permission>Access contents information</permission>
  <permission>Delete objects</permission>
  <permission>List folder contents</permission>
  <permission>Modify portal content</permission>
  <permission>View</permission>

  <state state_id="active" title="Active" i18n:attributes="title">
    <permission-map name="Access contents information" acquired="False">
      <permission-role>LabClerk</permission-role>
      <permission-role>LabManager</permission-role>
      <permission-role>Manager</permission-role>
    </permission-map>
    <permission-map name="senaite.registries: Add Journal" acquired="False">
      <permission-role>LabClerk</permission-role>
      <permission-role>LabManager</permission-role>
      <permission-role>Manager</permission-role>
    </permission-map>
    <permission-map name="Delete objects" acquired="False">
      <permission-role>Manager</permission-role>
    </permission-map>
    <permission-map name="List folder contents" acquired="False">
      <permission-role>LabClerk</permission-role>
      <permission-role>LabManager</permission-role>
      <permission-role>Manager</permission-role>
    </permission-map>
    <permission-map name="Modify portal content" acquired="False">
      <permission-role>Manager</permission-role>
    </permission-map>
    <permission-map name="View" acquired="False">
      <permission-role>LabClerk</permission-role>
      <permission-role>LabManager</permission-role>
      <permission-role>Manager</permission-role>
    </permission-map>
  </state>
</dc-workflow>